<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Volkswagen Nivus 2023</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/basicLightbox.min.css">
  <style>
    .lightbox-arrow { position: fixed; top: 50%; transform: translateY(-50%); font-size: 2.5em; color: #fff; background: rgba(0,0,0,0.3); border: none; z-index: 1100; cursor: pointer; padding: 0 18px; border-radius: 8px; user-select: none; }
    .lightbox-arrow.left { left: 20px; }
    .lightbox-arrow.right { right: 20px; }
    .lightbox-close { position: fixed; top: 24px; left: 24px; font-size: 2.2em; color: #fff; background: rgba(0,0,0,0.3); border: none; z-index: 1200; cursor: pointer; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; }
    .lightbox-close:hover { background: rgba(0,0,0,0.5); }
  </style>
</head>
<body>
  <header>
    <a href="../index.html">
      <img src="../img/logo.png" alt="Logo">
    </a>
  </header>
  <main class="car-page">
    <aside class="car-sidebar">
      <img class="car-main-photo" src="../img/nivus-2023/nivus-2023-1.jpg" alt="Volkswagen Nivus 2023">
      <div class="car-title">Volkswagen Nivus 2023</div>
      <a class="whatsapp-btn" href="https://wa.me/5511980553559" target="_blank">
        <img src="../img/whats-logo.png" alt="WhatsApp" class="whats-icon">(11) 98055-3559
      </a>
      <ul class="car-details">
        <li><strong>Marca:</strong> Volkswagen</li>
        <li><strong>Modelo:</strong> Nivus</li>
        <li><strong>Ano:</strong> 2023</li>
        <li><strong>Cor:</strong> Cinza</li>
        <li><strong>Quilometragem:</strong> 52.000 km</li>
        <li><strong>Potência:</strong> 128 cv</li>
        <li><strong>Preço:</strong> R$ 113.000</li>
        <li><strong>Localização:</strong> Indaiatuba - SP</li>
        <li><strong>Descrição:</strong> Dummy text v3, O Volkswagen Nivus é um SUV compacto com design esportivo e estilo cupê, desenvolvido sobre a plataforma do Polo. Ele combina visual moderno com boa dirigibilidade, motor 1.0 TSI turbo de até 128 cv e câmbio automático de 6 marchas. O modelo se destaca pelo bom consumo, espaço interno razoável e central multimídia VW Play, com tela de 10 polegadas. Ideal para uso urbano, o Nivus oferece um pacote equilibrado de tecnologia, conforto e desempenho.</li>
      </ul>
    </aside>
    <section class="car-content">
      <div class="car-gallery"><img src="../img/nivus-2023/nivus-2023-1.jpg" class="gallery-img" loading="lazy" data-index="0"><img src="../img/nivus-2023/nivus-2023-2.jpg" class="gallery-img" loading="lazy" data-index="1"><img src="../img/nivus-2023/nivus-2023-3.jpg" class="gallery-img" loading="lazy" data-index="2"><img src="../img/nivus-2023/nivus-2023-4.jpg" class="gallery-img" loading="lazy" data-index="3"><img src="../img/nivus-2023/nivus-2023-5.jpg" class="gallery-img" loading="lazy" data-index="4"><img src="../img/nivus-2023/nivus-2023-6.jpg" class="gallery-img" loading="lazy" data-index="5"><img src="../img/nivus-2023/nivus-2023-7.jpg" class="gallery-img" loading="lazy" data-index="6"><img src="../img/nivus-2023/nivus-2023-8.jpg" class="gallery-img" loading="lazy" data-index="7"><img src="../img/nivus-2023/nivus-2023-9.jpg" class="gallery-img" loading="lazy" data-index="8"><img src="../img/nivus-2023/nivus-2023-10.jpg" class="gallery-img" loading="lazy" data-index="9"><img src="../img/nivus-2023/nivus-2023-11.jpg" class="gallery-img" loading="lazy" data-index="10"><img src="../img/nivus-2023/nivus-2023-12.jpg" class="gallery-img" loading="lazy" data-index="11"><img src="../img/nivus-2023/nivus-2023-13.jpg" class="gallery-img" loading="lazy" data-index="12"><img src="../img/nivus-2023/nivus-2023-14.jpg" class="gallery-img" loading="lazy" data-index="13"></div>
      <p><a href="../index.html">&larr; Voltar para a listagem</a></p>
    </section>
  </main>
  <script src="../js/basicLightbox.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var images = Array.from(document.querySelectorAll('.gallery-img'));
      var currentInstance = null;
      var currentIndex = 0;
      
      function showLightbox(idx) {
        currentIndex = idx;
        var instance = basicLightbox.create(`
          <button class="lightbox-close">&times;</button>
          <button class="lightbox-arrow left">&#8592;</button>
          <img src="${images[idx].src}" style="max-width:90vw;max-height:90vh;display:block;margin:auto;">
          <button class="lightbox-arrow right">&#8594;</button>
        `, {
          onShow: (inst) => {
            currentInstance = inst;
            var closeBtn = inst.element().querySelector('.lightbox-close');
            var left = inst.element().querySelector('.lightbox-arrow.left');
            var right = inst.element().querySelector('.lightbox-arrow.right');
            var img = inst.element().querySelector('img');
            
            closeBtn.onclick = function(e) { e.stopPropagation(); inst.close(); };
            
            left.onclick = function(e) { 
              e.stopPropagation(); 
              currentIndex = (currentIndex - 1 + images.length) % images.length;
              img.src = images[currentIndex].src;
            };
            
            right.onclick = function(e) { 
              e.stopPropagation(); 
              currentIndex = (currentIndex + 1) % images.length;
              img.src = images[currentIndex].src;
            };
            
            document.onkeydown = function(ev) {
              if(ev.key === 'ArrowLeft') { 
                currentIndex = (currentIndex - 1 + images.length) % images.length;
                img.src = images[currentIndex].src;
              }
              if(ev.key === 'ArrowRight') { 
                currentIndex = (currentIndex + 1) % images.length;
                img.src = images[currentIndex].src;
              }
              if(ev.key === 'Escape') { inst.close(); }
            };
          },
          onClose: () => { 
            document.onkeydown = null; 
            currentInstance = null;
          }
        });
        instance.show();
      }
      
      images.forEach(function(img, i) {
        img.setAttribute('data-index', i);
        img.addEventListener('click', function() { showLightbox(i); });
      });
    });
  </script>
</body>
</html>
