<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BMW X5 2017</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/basicLightbox.min.css">
  <style>
    .lightbox-arrow { position: fixed; top: 50%; transform: translateY(-50%); font-size: 2.5em; color: #fff; background: rgba(0,0,0,0.3); border: none; z-index: 1100; cursor: pointer; padding: 0 18px; border-radius: 8px; user-select: none; }
    .lightbox-arrow.left { left: 20px; }
    .lightbox-arrow.right { right: 20px; }
    .lightbox-close { position: fixed; top: 24px; left: 24px; font-size: 2.2em; color: #fff; background: rgba(0,0,0,0.3); border: none; z-index: 1200; cursor: pointer; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; }
    .lightbox-close:hover { background: rgba(0,0,0,0.5); }
  </style>
</head>
<body>
  <header>
    <a href="../index.html">
      <img src="../img/logo.png" alt="Logo">
    </a>
  </header>
  <main class="car-page">
    <aside class="car-sidebar">
      <img class="car-main-photo" src="../img/x5-2017/x5-2017-1.jpg" alt="BMW X5 2017">
      <div class="car-title">BMW X5 2017</div>
      <a class="whatsapp-btn" href="https://wa.me/5511980553559" target="_blank">
        <img src="../img/whats-logo.png" alt="WhatsApp" class="whats-icon">(11) 98055-3559
      </a>
      <ul class="car-details">
        <li><strong>Marca:</strong> BMW</li>
        <li><strong>Modelo:</strong> X5</li>
        <li><strong>Ano:</strong> 2017</li>
        <li><strong>Cor:</strong> Preto</li>
        <li><strong>Quilometragem:</strong> 25.000 km</li>
        <li><strong>Potência:</strong> 286 cv</li>
        <li><strong>Preço:</strong> R$ 199.000</li>
        <li><strong>Localização:</strong> São Paulo - SP</li>
        <li><strong>Descrição:</strong> Todos os nossos veículos passam por uma revisão e vêm com garantia para sua tranquilidade.</li>
      </ul>
    </aside>
    <section class="car-content">
      <div class="car-gallery"><img src="../img/x5-2017/x5-2017-1.jpg" class="gallery-img" loading="lazy" data-index="0"><img src="../img/x5-2017/x5-2017-10.jpg" class="gallery-img" loading="lazy" data-index="1"><img src="../img/x5-2017/x5-2017-11.jpg" class="gallery-img" loading="lazy" data-index="2"><img src="../img/x5-2017/x5-2017-12.jpg" class="gallery-img" loading="lazy" data-index="3"><img src="../img/x5-2017/x5-2017-13.jpg" class="gallery-img" loading="lazy" data-index="4"><img src="../img/x5-2017/x5-2017-14.jpg" class="gallery-img" loading="lazy" data-index="5"><img src="../img/x5-2017/x5-2017-15.jpg" class="gallery-img" loading="lazy" data-index="6"><img src="../img/x5-2017/x5-2017-16.jpg" class="gallery-img" loading="lazy" data-index="7"><img src="../img/x5-2017/x5-2017-17.jpg" class="gallery-img" loading="lazy" data-index="8"><img src="../img/x5-2017/x5-2017-2.jpg" class="gallery-img" loading="lazy" data-index="9"><img src="../img/x5-2017/x5-2017-3.jpg" class="gallery-img" loading="lazy" data-index="10"><img src="../img/x5-2017/x5-2017-4.jpg" class="gallery-img" loading="lazy" data-index="11"><img src="../img/x5-2017/x5-2017-5.jpg" class="gallery-img" loading="lazy" data-index="12"><img src="../img/x5-2017/x5-2017-6.jpg" class="gallery-img" loading="lazy" data-index="13"><img src="../img/x5-2017/x5-2017-7.jpg" class="gallery-img" loading="lazy" data-index="14"><img src="../img/x5-2017/x5-2017-8.jpg" class="gallery-img" loading="lazy" data-index="15"><img src="../img/x5-2017/x5-2017-9.jpg" class="gallery-img" loading="lazy" data-index="16"></div>
      <p><a href="../index.html">&larr; Voltar para a listagem</a></p>
    </section>
  </main>
  <script src="../js/basicLightbox.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var images = Array.from(document.querySelectorAll('.gallery-img'));
      function showLightbox(idx) {
        var instance = basicLightbox.create(`
          <button class="lightbox-close">&times;</button>
          <button class="lightbox-arrow left">&#8592;</button>
          <img src="${images[idx].src}" style="max-width:90vw;max-height:90vh;display:block;margin:auto;">
          <button class="lightbox-arrow right">&#8594;</button>
        `, {
          onShow: (inst) => {
            var closeBtn = inst.element().querySelector('.lightbox-close');
            var left = inst.element().querySelector('.lightbox-arrow.left');
            var right = inst.element().querySelector('.lightbox-arrow.right');
            closeBtn.onclick = function(e) { e.stopPropagation(); inst.close(); };
            left.onclick = function(e) { e.stopPropagation(); inst.close(); showLightbox((idx-1+images.length)%images.length); };
            right.onclick = function(e) { e.stopPropagation(); inst.close(); showLightbox((idx+1)%images.length); };
            document.onkeydown = function(ev) {
              if(ev.key === 'ArrowLeft') { inst.close(); showLightbox((idx-1+images.length)%images.length); }
              if(ev.key === 'ArrowRight') { inst.close(); showLightbox((idx+1)%images.length); }
              if(ev.key === 'Escape') { inst.close(); }
            };
          },
          onClose: () => { document.onkeydown = null; }
        });
        instance.show();
      }
      images.forEach(function(img, i) {
        img.setAttribute('data-index', i);
        img.addEventListener('click', function() { showLightbox(i); });
      });
    });
  </script>
</body>
</html>
